(this.webpackJsonpsubreddittopcomments=this.webpackJsonpsubreddittopcomments||[]).push([[0],{19:function(e,t,s){},28:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(0),i=s.n(a),c=s(20),r=s.n(c),o=(s(28),s(10)),h=s(2),u=s(21),l=s(11),d=s(12),b=s(7),j=s(14),m=s(13),p=(s(19),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={inputs:{subname:"",timeframeInput:"hour"},errorMsg:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState({inputs:Object.assign({},this.state.inputs,Object(u.a)({},e.target.name,e.target.value)),errorMsg:""})}},{key:"handleSubmit",value:function(e){""!==this.state.inputs.subname&&""!==this.state.inputs.timeframeInput?this.props.history.push({pathname:"/comments",state:{subname:this.state.inputs.subname,timeframe:this.state.inputs.timeframeInput}}):this.setState({inputs:this.state.inputs,errorMsg:"Please enter valid subreddit and timeframe"}),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("h1",{children:"Subreddit Search"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("label",{children:["Subreddit Name: \xa0",Object(n.jsx)("input",{type:"text",name:"subname",value:this.state.subname,onChange:this.handleChange})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("label",{children:["Select a timeframe for your top comments: \xa0",Object(n.jsxs)("select",{name:"timeframeInput",value:this.state.timeframeInput,onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"hour",children:"Now"}),Object(n.jsx)("option",{value:"day",children:"Today"}),Object(n.jsx)("option",{value:"week",children:"This Week"}),Object(n.jsx)("option",{value:"month",children:"This Month"}),Object(n.jsx)("option",{value:"year",children:"This Year"}),Object(n.jsx)("option",{value:"all",children:"All Time"})]})]}),Object(n.jsx)("p",{children:this.state.errorMsg}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{class:"submit",type:"submit",value:"Submit"})]})]})})}}]),s}(i.a.Component)),O=Object(h.f)(p),f=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={curComments:[],message:"Loading..."},n.handleBack=n.handleBack.bind(Object(b.a)(n)),n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.subname,s=this.props.location.state.timeframe;fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL+"/api/topcomments?sub="+t+"&timeframe="+s).then((function(e){return e.json()})).then((function(t){0==t.subreddit_articles.length?e.setState({curComments:[],message:"No posts for this subreddit. Try a different one!"}):e.setState({curComments:t.subreddit_articles,message:""})})).catch((function(t){e.setState({curComments:[],message:"No posts for this subreddit. Try a different one!"})}))}},{key:"handleBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("h1",{children:"Subreddit Search"}),Object(n.jsxs)("h3",{children:["Here are your top 20 comments from r/",this.props.location.state.subname," for ",{hour:"the last hour",day:"today",week:"this week",month:"this month",year:"this year",all:"all time"}[this.props.location.state.timeframe],"! "]}),Object(n.jsx)("button",{class:"submit",onClick:this.handleBack,children:"Go Back"}),Object(n.jsx)("p",{children:this.state.message}),this.state.curComments.map((function(e){return Object(n.jsxs)("a",{class:"redditpost",href:"https://www.reddit.com"+e.Redditurl,children:[Object(n.jsx)("div",{class:"posttitle",children:e.Title}),Object(n.jsx)("div",{class:"postcontent",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{role:"img","aria-label":"upvote",children:"\ud83d\udc4d"}),":",e.Upvotes,"\xa0 \xa0",Object(n.jsx)("span",{role:"img","aria-label":"downvote",children:"\ud83d\udc4e"}),":",e.Downvotes]})}),Object(n.jsxs)("div",{class:"postauthor",children:["Posted by ",e.Author]})]})}))]})})}}]),s}(i.a.Component),x=Object(h.f)(f);var v=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{path:"/",exact:!0,component:function(){return Object(n.jsx)(O,{})}}),Object(n.jsx)(h.a,{path:"/comments",exact:!0,component:function(){return Object(n.jsx)(x,{})}})]})})})},g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,38)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),g()}},[[37,1,2]]]);
//# sourceMappingURL=main.cc31d938.chunk.js.map